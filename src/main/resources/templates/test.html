<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>[(${name})] | music-i-search</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width" />

  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">

  <!-- <script src="https://unpkg.com/react@latest/umd/react.development.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/react-dom@latest/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@material-ui/core@latest/umd/material-ui.development.js" crossorigin="anonymous"></script> -->

  <script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/@material-ui/core@latest/umd/material-ui.production.min.js"></script>

  <script crossorigin src="https://unpkg.com/babel-standalone@latest/babel.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
</head>
<body>
    <div id="root"></div>

<script type="text/babel">
  const {
    colors, CssBaseline, ThemeProvider, Typography, Container, makeStyles, createMuiTheme,
    Box, Link,
    IconButton, Icon,
    Paper,
    LinearProgress
  } = MaterialUI;

  const theme = createMuiTheme({
    palette: {
      primary: { main: '#556cd6', },
      secondary: { main: '#19857b', },
      error: { main: colors.red.A400, },
      background: { default: '#fff', },
    },
  });

  const useStyles = makeStyles(theme => ({
    root: { margin: theme.spacing(6, 0, 3), },
    app: { display: 'grid', justifyItems: 'center', marginTop: 24, },
  }));

  function GetToken() {

    const useLocalStyles = makeStyles(theme => ({
      root: { display: 'flex', },
      paper: {
        display: 'flex',
        flexDirection: 'column',
        padding: '0px 20px 20px',
        alignItems: 'center'
      },
      button: { display: 'flex' },
      login: {
        fontSize: '4rem',
        '&:hover': {
          color: '#2e81f4',
        },
      },
      progress: { width: 100, marginTop: 20 },
    }));
    const classes = useLocalStyles();

    const [showProgress, setShowProgress] = React.useState(null);
    const getToken = () => {
      setShowProgress(!showProgress);
    };

    return (
      <div className={classes.root}>
      <Paper elevation={3} className={classes.paper}>
        <h2>Get token</h2>
        <div className={classes.button}>
        <IconButton onClick={getToken}>
          <Icon className={classes.login}>login</Icon>
        </IconButton>
        </div>
        {
          showProgress ? (
            <div className={classes.progress}>
              <LinearProgress color="secondary" />
            </div>
          ) : ( 
            <div className={classes.progress}>
            </div>
          )
        }
      </Paper>
      </div>
    );
  }

  function App() {
    const classes = useStyles();
    return (
      <Container maxWidth="sm">
        <div className={classes.app}>
          <Typography variant="h4" component="h1" gutterBottom>
            [(${name})]
          </Typography>
          <GetToken />
        </div>
      </Container>
    );
  }

  ReactDOM.render(
    <ThemeProvider theme={theme}>
      <CssBaseline />
      <App />
    </ThemeProvider>,
    document.querySelector('#root'),
  );

</script>

</body>
</html>
